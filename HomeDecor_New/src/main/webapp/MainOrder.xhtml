<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>Facelet Title</title>

        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
        <link rel="stylesheet"
              href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />
        <link rel="stylesheet" href="./css/styles.css" />
        <style>
            .content main .container {
                margin-top: 20px;
            }

            .content main .container table {
                width: 100%;
                border-collapse: collapse;
                margin-top: 20px;
            }

            .content main .container th,
            .content main .container td {
                padding: 12px;
                text-align: center;
                border: 1px solid #ddd;
            }

            .content main .container th {
                background-color: #f2f2f2;
            }

            .content main .container td img {
                max-width: 100px;
                max-height: 100px;
                border-radius: 5px;
            }

            .content main .container button {
                width: 80px;
                height: 30px;
                cursor: pointer;
                border: none;
                border-radius: 5px;
                outline: none;
            }

            /* Optional: Add styles for the modal */
            .content main .modal-content {
                width: 80%;
                margin: auto;
            }

            .content main .modal-body .form-group {
                margin-bottom: 20px;
            }

            .content main .modal-body .form-control {
                width: 100%;
                padding: 8px;
                box-sizing: border-box;
            }

            .content main .modal-footer .btn {
                width: 80px;
            }

            /* Optional: Style the input file */
            .content main .form-group input[type="file"] {
                display: none;
            }

            .content main .form-group label {
                cursor: pointer;
                background-color: #4caf50;
                color: white;
                padding: 10px 15px;
                border-radius: 5px;
            }

            /* Optional: Style the active input file label */
            .content main .form-group input[type="file"]:focus + label,
            .content main .form-group input[type="file"]:valid + label {
                background-color: #45a049;
            }

            .content main .form-group input[type="file"]:valid + label::after {
                content: 'File Selected';
            }
        </style>
    </h:head>
    <h:body>
        <f:metadata>
            <f:event type="preRenderView" listener="#{adminBean.checkEmail()}" />
        </f:metadata>
        <section class="sidebar">
            <a href="#" class="logo">
                <i class="fab fa-slack"></i>
                <span class="text">Admin Panel</span>
            </a>
            <ul class="side-menu top">
                <li class="active">
                    <a href="#" class="nav-link">
                        <i class="fas fa-border-all"></i>
                        <span class="text">Dashboard</span>
                    </a>
                </li>
                <li>
                    <a href="MainProducts.jsf" class="nav-link">
                        <i class="fas fa-shopping-cart"></i>
                        <span class="text">Products</span>
                    </a>
                </li>
                <li>
                    <a href="Userdisplay.jsf" class="nav-link">
                        <i class="fas fa-chart-simple"></i>
                        <span class="text">Users</span>
                    </a>
                </li>
                <li>
                    <a href="addCategory.jsf" class="nav-link">
                        <i class="fas fa-message"></i>
                        <span class="text">Categories</span>
                    </a>
                </li>
                <li>
                    <a href="Orders.jsf" class="nav-link">
                        <i class="fas fa-people-group"></i>
                        <span class="text">Orders</span>
                    </a>
                </li>
            </ul>

            <ul class="side-menu">
                <li>
                    <a href="#">
                        <i class="fas fa-cog"></i>
                        <span class="text">Settings</span>
                    </a>
                </li>
                <li>
                    <a href="#" class="logout">
                        <i class="fas fa-right-from-bracket"></i>
                        <span class="text">Logout</span>
                    </a>
                </li>
            </ul>
        </section>

        <section class="content">
            <nav>
                <i class="fas fa-bars menu-btn"></i>
                <a href="#" class="nav-link">Categories</a>
                <h:form>
                    <div class="form-input">
                        <h:inputText id="search" requiredMessage="search..." />
                        <h:commandButton value="" styleClass="search-btn">
                            <i class="fas fa-search search-icon"></i>
                        </h:commandButton>
                    </div>
                </h:form>

                <h:selectBooleanCheckbox id="switch-mode" style="display:none" />
                <h:outputLabel for="switch-mode" styleClass="switch-mode" />

                <a href="#" class="notification">
                    <i class="fas fa-bell"></i>
                    <span class="num">28</span>
                </a>

                <a href="#" class="profile">
                    <h:graphicImage url="profile.png" alt="" />
                </a>
            </nav>

            <main>
                <div class="head-title">
                    <div class="left">
                        <h1>Dashboard</h1>
                        <ul class="breadcrumb">
                            <li>
                                <a href="#">Dashboard</a>
                            </li>
                            <i class="fas fa-chevron-right"></i>
                            <li>
                                <a href="#" class="active">Category</a>
                            </li>
                        </ul>
                    </div>

                    <a href="#" class="download-btn">
                        <i class="fas fa-cloud-download-alt"></i>
                        <span class="text">Download Report</span>
                    </a>
                </div>

                <div class="container">
                    <h2>User Orders</h2>
                    <table class="table">
                        <tr>
                            <h:dataTable value="#{adminBean.viewOrders()}" var="order">
                                <h:column>
                                    <f:facet name="header">Order id :</f:facet>
                                        #{order.orderid}
                                </h:column>
                                <h:column>
                                    <f:facet name="header">Order id :</f:facet>
                                        #{order.orderdate}
                                </h:column>
                                <h:column>
                                    <f:facet name="header">Order id :</f:facet>
                                        #{order.status}
                                </h:column>
                                <h:column>
                                    <f:facet name="header">Actions</f:facet>
                                    <h:form>
                                        <h:commandLink value="Order Confirmed" action="#{adminBean.updateStatusToOrderConfirmed(order.orderid)}"/>  | 
                                        <h:commandLink value="Shipped" action="#{adminBean.updateStatusToOrderShipped(order.orderid)}"/>  | 
                                        <h:commandLink value="Out For Delivery" action="#{adminBean.updateStatusToOutForDelivery(order.orderid)}"/>  | 
                                        <h:commandLink value="Delivered" action="#{adminBean.updateStatusToDelivered(order.orderid)}"/>
                                    </h:form>
                                </h:column>
                            </h:dataTable>
                        </tr>
                    </table>
                </div>
            </main>
        </section>
        <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js"></script>
        <script src="./js/app.js"></script>
        <script src="./js/ajaxWork.js"></script>
    </h:body>
</html>
